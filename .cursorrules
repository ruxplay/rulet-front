# ğŸ§  Reglas de CÃ³digo - Frontend Escalable con Next.js 15 + TypeScript

Proyecto: Frontend escalable, tipado y mantenible
Objetivo: CÃ³digo limpio, reutilizable, seguro y compatible con Server Components
Autor: Gabriel BeltrÃ¡n

---

## âš™ï¸ TypeScript
âœ… "strict": true en tsconfig.json  
âœ… NUNCA uses 'any' â€” usa tipos especÃ­ficos o genÃ©ricos tipados  
âœ… Usa `interface` en lugar de `type` cuando representes objetos  
âœ… Define tipos de retorno explÃ­citos en todas las funciones  
âœ… Prefiere `unknown` sobre `any` cuando el tipo no se conoce  
âœ… Usa **type guards** (`typeof`, `instanceof`, predicados) en lugar de type casting  
âœ… Define `Props` y `State` explÃ­citos en componentes  
âœ… Usa `enum` o `as const` para valores fijos  
âœ… Evita el uso de `!` (non-null assertion) salvo justificaciÃ³n tÃ©cnica

---

## âš›ï¸ React / Next.js 15 - Buenas PrÃ¡cticas
âœ… Usa `useCallback` y `useMemo` para funciones o cÃ¡lculos pasados como props  
âœ… Siempre incluye dependencias completas en `useEffect`  
âœ… Usa `forwardRef` y `useImperativeHandle` cuando sea necesario  
âœ… Prefiere composiciÃ³n sobre herencia  
âœ… Usa **Server Components por defecto** â€” Client Components solo cuando se requieran hooks o APIs del navegador  
âœ… Marca con `'use client'` solo los componentes que lo necesiten  
âœ… Usa `async/await` directamente en Server Components para data fetching  
âœ… Implementa `loading.tsx` y `error.tsx` para una mejor UX  
âœ… Usa `generateStaticParams` para pÃ¡ginas dinÃ¡micas estÃ¡ticas  
âœ… Prefiere `next/image` sobre `<img>`  
âœ… Usa la **Metadata API** (`metadata` o `generateMetadata`) en lugar de `<Head>` para SEO  
âœ… Implementa streaming con `Suspense` para mejorar performance  
âœ… Usa `middleware.ts` para lÃ³gica de rutas compartida (autenticaciÃ³n, redirecciones, headers)  
âœ… Usa el **App Router** (`app/`) â€” evita el Pages Router (`pages/`)  
âœ… Crea endpoints con **Route Handlers** (`app/api/route.ts`) en lugar de `pages/api`

---

## ğŸ¨ Estilo de CÃ³digo
âœ… Usa nombres descriptivos y consistentes (`camelCase` para variables, `PascalCase` para componentes)  
âœ… Comenta solo cÃ³digo complejo o con contexto adicional  
âœ… MantÃ©n funciones pequeÃ±as, puras y enfocadas en una sola responsabilidad  
âœ… No dejes `console.log` en producciÃ³n  
âœ… Aplica Prettier y ESLint (airbnb o next/core-web-vitals)

---

## ğŸ§© ComponentizaciÃ³n y Estilos
âœ… **Siempre componentiza**: evita componentes monolÃ­ticos o con demasiada lÃ³gica  
âœ… Separa los estilos de cada componente en su propio archivo CSS mÃ³dulo (`.module.css` o `.module.scss`)  
âœ… Usa `@apply` con Tailwind si estÃ¡ habilitado  
âœ… Agrupa estilos por funcionalidad:
   - `/components/`
   - `/layout/`
   - `/themes/`
âœ… Usa clases CSS descriptivas, consistentes y con convenciones (`btn-primary`, `card-container`, etc.)  
âœ… Evita estilos inline salvo para variables dinÃ¡micas o CSS-in-JS especÃ­ficos  
âœ… No mezcles librerÃ­as de estilos (por ejemplo, Tailwind + Bootstrap) salvo justificaciÃ³n tÃ©cnica

---

## ğŸ“¦ LibrerÃ­as y Dependencias
âœ… NUNCA uses librerÃ­as deprecadas o sin mantenimiento activo  
âœ… Verifica compatibilidad con **Next.js 15** antes de instalar  
âœ… Prefiere librerÃ­as modernas y seguras (`react-hook-form`, `zod`, `tanstack/react-query`, etc.)  
âœ… Evita dependencias pesadas o duplicadas  
âœ… Antes de agregar una dependencia, verifica:
   - Ãšltima actualizaciÃ³n < 6 meses  
   - Buen soporte y comunidad activa  
   - Sin vulnerabilidades crÃ­ticas en `npm audit`

---

## ğŸ§ª Testing (recomendado)
âœ… Usa **Jest**, **Vitest** o **Playwright** para pruebas unitarias y E2E  
âœ… Cubre componentes crÃ­ticos y hooks personalizados  
âœ… Mockea fetch o API routes en pruebas  
âœ… Asegura una cobertura mÃ­nima del 80% en componentes de negocio

---

## ğŸ§  Memoria del Proyecto
âœ… SIEMPRE actualiza el archivo `memoria-front.md` despuÃ©s de implementar cualquier funcionalidad nueva  
âœ… El archivo debe contener ÃšNICAMENTE lo que YA estÃ¡ implementado y funcionando  
âœ… NO incluyas tareas pendientes, bugs conocidos, o prÃ³ximas implementaciones  
âœ… Documenta cada cambio con fecha y descripciÃ³n de lo implementado  
âœ… MantÃ©n actualizada la secciÃ³n de "Historial de Cambios" con cada modificaciÃ³n  
âœ… El archivo sirve como registro histÃ³rico del desarrollo completado  
âœ… NUNCA crees archivos o funciones duplicadas en el proyecto  
âœ… Antes de crear un nuevo componente/funciÃ³n, verifica que no exista uno similar  
âœ… Reutiliza componentes existentes en lugar de crear nuevos similares  
âœ… MantÃ©n una arquitectura limpia sin redundancias de cÃ³digo

---

## ğŸš¨ AutorizaciÃ³n de Componentes
âœ… ANTES de crear cualquier componente nuevo, SIEMPRE pregunta al usuario y muestra:  
âœ… **Nombre del componente** que se va a crear  
âœ… **UbicaciÃ³n exacta** donde se crearÃ¡ (ruta completa)  
âœ… **PropÃ³sito y funcionalidad** del componente  
âœ… **Componentes existentes** que se van a reutilizar  
âœ… **Archivos que se van a crear** (componente + estilos + tipos)  
âœ… **Dependencias** que se necesitarÃ¡n  
âœ… **IntegraciÃ³n** con el sistema existente  
âœ… ESPERA la autorizaciÃ³n explÃ­cita del usuario antes de proceder  
âœ… Si el usuario rechaza, propÃ³n alternativas o modificaciones  
âœ… NUNCA crees componentes sin autorizaciÃ³n previa

---

## ğŸ”— ValidaciÃ³n Backend-Frontend
âœ… ANTES de implementar cualquier funcionalidad que consuma APIs, SIEMPRE consulta `memoria-backend.md`
âœ… Verifica los endpoints disponibles y su estructura de respuesta
âœ… Valida los tipos de datos que el frontend va a recibir
âœ… Confirma que los servicios del backend estÃ©n implementados
âœ… Si no existe `memoria-backend.md`, pregunta al usuario sobre la estructura del backend
âœ… MantÃ©n sincronizaciÃ³n entre la documentaciÃ³n del backend y la implementaciÃ³n del frontend
âœ… NUNCA asumas la estructura de datos sin verificar la memoria del backend
âœ… Valida que los tipos TypeScript coincidan con la estructura del backend
âœ… Confirma que las rutas de API estÃ©n correctamente documentadas

---


